<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>제8대 소프트웨어학과 이룸학생회</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Black+Han+Sans|Gamja+Flower|Hi+Melody|Jua|Nanum+Brush+Script|Nanum+Pen+Script&display=swap&subset=korean" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="stylesheets/quiz.css" rel="stylesheet"> <!--이름 변경 필요-->
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand" href="/" style="font-size: 30px">EROOM</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <!-- data-toggle=collapse : 숨겨진다.  -->
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/" >홈</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/introduce">학생회 소개</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/notice/1">공지사항</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/calendar">온라인 퀴즈대회 오픈</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" data-toggle= "dropdown">대여 관리</a>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="/rent">전공서적</a>
              <a class="dropdown-item" href="/rent_a">보조배터리 & 자전거</a>
              <a class="dropdown-item" href="/rent_b">우산 & 담요</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/<%= logIO_L %>"><%= logIO_T %></a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Psot Page -->
  <header class="masthead" style="background-image: url('images/quiz.jpg')">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="site-heading">
            <h1><b style="font-size: 100px;">QUIZ</b><b>🎈 CONTEST</b></h1>
            <span class="subheading">제 1회 이룸 학생회 퀴즈 콘테스트</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="container_quiz">
    <form class="quiz">
      <div class="quiz__inner">
      <div data-question="1" class="quiz__step--1 quiz__step--current quiz__step">
        <div class="question__emoji">🚬 </div>
        <h1 class="quiz__question">Do you smoke cigarettes?</h1>
        <div class="answer">
          <input data-char="65" class="answer__input" type="radio" id="smoke_yes" name="smoke" value="Yes">
          <label  class="answer__label" for="smoke_yes">Yes</label>
        </div>
        <div class="answer">
          <input data-char="66" class="answer__input" type="radio" id="smoke_no" name="smoke" value="No">
          <label class="answer__label" for="smoke_no">No</label>
        </div>       
      </div>
  <div data-question="2" class="quiz__step--2 quiz__step">
    <div class="question__emoji">🍕</div>
        <h1 class="quiz__question">Do you like pizza?</h1>
        <div class="answer">
          <input  class="answer__input" type="radio" id="pizza_yes" name="pizza" value="Yes">
          <label  class="answer__label" for="pizza_yes">Yes</label>
        </div>
        <div class="answer">
          <input class="answer__input" type="radio" id="pizza_no" name="pizza" value="No">
          <label class="answer__label" for="pizza_no">No<div class="answer__tick">
      <svg width="14" height="14" viewBox="0 0 24 24">
          <path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path>
      </svg>
  </div></label>
        </div>       
      </div>
  <div data-question="3" class="quiz__step--3 quiz__step">
    <div class="question__emoji">👽</div>
        <h1 class="quiz__question">Do you believe in aliens?</h1>
        <div class="answer">
          <input  class="answer__input" type="radio" id="aliens_yes" name="aliens" value="Yes">
          <label  class="answer__label" for="aliens_yes">Yes</label>
        </div>
        <div class="answer">
          <input class="answer__input" type="radio" id="aliens_no" name="aliens" value="No">
          <label class="answer__label" for="aliens_no">No<div class="answer__tick">
      <svg width="14" height="14" viewBox="0 0 24 24">
          <path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path>
      </svg>
  </div></label>
        </div> 
      </div>

      <div data-question="4" class="quiz__step--4 quiz__step">
        <div class="question__emoji">👽</div>
            <h1 class="quiz__question">Do you believe in aliens?</h1>
            <div class="answer">
              <input  class="answer__input" type="radio" id="alien_yes" name="aliens" value="Yes">
              <label  class="answer__label" for="alien_yes">Yes</label>
            </div>
            <div class="answer">
              <input class="answer__input" type="radio" id="alien_no" name="aliens" value="No">
              <label class="answer__label" for="alien_no">No<div class="answer__tick">
          <svg width="14" height="14" viewBox="0 0 24 24">
              <path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path>
          </svg>
      </div></label>
            </div> 
          </div>

  <div data-question="5" class="quiz__step--5 quiz__step quiz__summary">
    
        <h1 class="quiz__question">Summary</h1>
    <div id="summary"></div>
                <div class="submit__container">
        <a href="#" class="submit">Submit</a>
      </div> 
      </div>
        </div>
    </form>
  </div>
  
  <footer class="bottom">
    <section class="bottom__container">
      <div class="progress">
      <div class="progress__inner"></div>
    </div>
    <div class="navigation">
      <div class="navigation__btn navigation__btn--left"><svg width="20" height="20" viewBox="0 0 24 24">
      <path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path>
  </svg></div>
      <div class="navigation__btn navigation__btn--right"><svg width="20" height="20" viewBox="0 0 24 24">
    <path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"></path>
  </svg></div>
    </div>
    </section>  
  </footer>

  <script>
    const numberSteps = $('.quiz__step').length - 1;
    let disableButtons = false;
    const tick = '<div class="answer__tick"><svg width="14" height="14" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></div>'; 
    let thanks = '<div class="thanks"><div class="thanks__tick">✔ </div><h1 class="thanks__title">Thank you!</h1></div>';

    $('.answer__input').on('change', function(e) { 
        if($(this).next().children('.answer__tick').length>0){
            return false
        }
        $(this).next().append(tick)
    });

    //첫번째
    $('.navigation__btn--right').click(function(e){ //오른쪽
        let currentIndex = Number($('.quiz__step--current').attr('data-question'));
        //버튼을 안눌렀다면
        if($('.quiz__step--current input:checked').length == 0){
            return false;
        }

        if(currentIndex == numberSteps + 1 || disableButtons==true){
            //console.log('last')
            return false;
        }
        //마지막이면 오른쪽으로 가는 버튼 사라짐
        if(currentIndex + 1 == numberSteps + 1 ){
            $(this).addClass('navigation__btn--disabled');
        }
        if(currentIndex == numberSteps){
            $('.summary__item').remove();
                $('.quiz__step:not(.quiz__summary)').each(function(index, item){
                    console.log(item)
                    let icon = $(item).children('.question__emoji').text()
                    let answer = $(item).children('.answer').find('input:checked').val();
                    let node = '<div class="summary__item"><div class="question__emoji">'+icon+'</div>'+answer+'</div>'
                    $('#summary').append(node)
                })
        }

        const percentage = (currentIndex * 100)/ numberSteps;
        $('.progress__inner').width(percentage+ '%');
        console.log('input ok')
        $('.quiz__step--current').hide('300');
        $('.quiz__step--current').removeClass('quiz__step--current');
        $('.quiz__step--'+(currentIndex+1)).show('300').addClass('quiz__step--current');
        currentIndex = Number($('.quiz__step--current').attr('data-question'));
        if(currentIndex > 1 ){
            $('.navigation__btn--left').removeClass('navigation__btn--disabled');
        }
    });
/*
function keypressEvent(e){
    let key = e.which || e.keyCode;

if(key==65 || key==66){
    $('.quiz__step--current input[data-char="'+key+'"]').prop('checked', true).change();
    console.log($('.quiz__step--current input[data-char="'+key+'"]'))
// $('.quiz__step--current input[data-char="'+key+'"] + .answer__label').change();
}
}
*/

    $('.navigation__btn--left').click(function(e){
        let currentIndex = Number($('.quiz__step--current').attr('data-question'));

        console.log({'currentIndex': currentIndex, 'numberSteps': numberSteps-1})
        if(currentIndex == 1 || disableButtons==true){
            console.log('first')
            $(this).addClass('navigation__btn--disabled');
            return false;
        }


        $('.navigation__btn--right').removeClass('navigation__btn--disabled')

        console.log('input ok')
        $('.quiz__step--current').hide('300');
        $('.quiz__step--current').removeClass('quiz__step--current');
        $('.quiz__step--'+(currentIndex-1)).show('300').addClass('quiz__step--current');
        currentIndex = Number($('.quiz__step--current').attr('data-question'));
        if(currentIndex == 1 ){
            $(this).addClass('navigation__btn--disabled');
        }

        const percentage = ((currentIndex-1)  * 100)/ numberSteps+1;
        $('.progress__inner').width(percentage+ '%');
        $('.quiz__step--current').keyup(keypressEvent);
    });
    $('.submit').click(function(e){
        e.preventDefault();
        $('.quiz').remove();
        $(thanks).appendTo('.container');
        disableButtons=true;
        $('.navigation__btn').addClass('navigation__btn--disabled')
    })
</script>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            <li class="list-inline-item">
              <a href="https://instagram.com/software_eroom?igshid=12vwurt8xamjq">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://github.com/SeokLii/EROOM-Website">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          </ul>
          <p class="copyright text-muted">(28644) 충북 청주시 서원구 충대로 1, 충북대학교 <br/>전자정보대학 소프트웨어학과 S4-1동(전자정보 3관) 109호<br />
                                          TEL : 010-6583-5683 / 010-3302-9138<br />
                                          Copyright © EROOM. All Rights Reserved.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Custom scripts for this template -->
  <!-- <script src="JavaScripts/quiz.js"></script> -->
</body>
</html>
