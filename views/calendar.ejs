<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>제8대 소프트웨어학과 이룸학생회</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Black+Han+Sans|Gamja+Flower|Hi+Melody|Jua|Nanum+Brush+Script|Nanum+Pen+Script&display=swap&subset=korean" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="stylesheets/notice.css" rel="stylesheet"> <!--이름 변경 필요-->
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" >
   var today = new Date();//오늘 날짜


   function prevClaendar(){//이전 달력
     today = new Date(today.getFullYear(), today.getMonth()-1,today.getDate());
     buildCalendar();
   }
   //다음 달력을 오늘을 저장하고 달력에 뿌려줌
   function nextCalendar(){
     today = new Date(today.getFullYear(), today.getMonth()+1,today.getDate());
     buildCalendar();

   }
   function buildCalendar(){
     var nMonth = new Date(today.getFullYear(),today.getMonth(),1);// 이번달의 첫번째날
     var lastDate =new Date(today.getFullYear(),today.getMonth()+1,0);//이번달의 마지막날
     var tblCalendar =document.getElementById("calendar");    //테이블 달력을 만드는 테이블
     var tblCalendarYM =document.getElementById("calendarYM"); ///XXXX년도XX월 출력
     tblCalendarYM.innerHTML = today.getFullYear()+"년"+(today.getMonth()+1)+"월";

     //기존에 테이블에 잇던 달력 내용 삭제
     while(tblCalendar.rows.length>2){
       tblCalendar.deleteRow(tblCalendar.rows.length -1);
     }
     var row = null;
     row =tblCalendar.insertRow(); //테이블의 행 생성
     var cnt =0;

     //각 달마다 다 다른 1일이 시작되는 칸을 맞추어줌
     //일 : 0 ~ 토 : 6
     for ( i=0; i <nMonth.getDay(); i++) {
       cell =row.insertCell(); //행의 칸을 만듬
       cnt = cnt + 1;
     }

     //달력 출력//셀을 미리 만들고 가야될거 같음 : rows가 먹지도 않고 컨트롤 하기도 힘듬
     for(i=1; i<=lastDate.getDate(); i++){
       cell =row.insertCell();
       cell.innerHTML = i + "<br/><p class='tb m"+i+"'> "+ <%=rows[0].content%> +"</p>";
       cnt = cnt + 1;
       if (cnt%7 == 0)    //1주=7일
        row = calendar.insertRow();
     }

     var empty = 0;
     //빈칸 채우기
     if(cnt >= 28)
     {
       empty = 7 - (cnt%7);
       for ( i=0; i <empty; i++) {
         cell =row.insertCell();
       }
     }
 }
 // cell = tblCalendar.rows[2].cells[1].innerHTML = "hi";
 // console.log(tblCalendar.rows[2].cells[3]);
 $(function() {
   var tblCalendar =document.getElementById("calendar");
   for(var i =1; i<32; i++)
   {
     $(".m"+i+"").on("click", function(){
       var inputString = prompt('일정을 추가하세요!','');
       alert(inputString);
       //
       $('#target').submit(function() { alert('Handler for .submit() called.'); return false; });

       //tblCalendar.rows[2].cells[1].innerHTML = i + "<br/><p class='tb m"+i+"'>"+ inputString +"</p>";
       console.log(inputString);
       console.log($(this));
       var ab = $("selector").text();
       var a = $(this).className;
       console.log(a);
       console.log(ab);


     });
   }
});
   </script>
   <style>
   table { border-collapse:collapse;}

   th { border:3px solid;
       text-align: center;}

   td { border:1px solid gray;
        vertical-align: top;}

   td:hover{background-color: blue}

   .jb-td{ text-align: center;
           background-color: #343a40;
           color: #fff;
           font-weight: bold;
           height: 25px;}
  .tb{width: 100px;
      height: 100px;}
   </style>
<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand" href="/" style="font-size: 30px">EROOM</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <!-- data-toggle=collapse : 숨겨진다.  -->
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/" >홈</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/introduce">학생회 소개</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/notice/1">공지사항</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/calendar">학생회 일정</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" data-toggle= "dropdown">대여 관리</a>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="/rent">전공서적</a>
              <a class="dropdown-item" href="/rent_a">전공서적</a>
              <a class="dropdown-item" href="/rent">전공서적</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/<%= logIO_L %>"><%= logIO_T %></a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Psot Page -->
  <header class="masthead" style="background-image: url('images/충북대학교 전경.png')">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="site-heading">
            <h1>At a Glance</h1>
            <span class="subheading">the student council's entire schedule</span>
          </div>
        </div>
      </div>
    </div>
  </header>
<%=rows[0].content%>

<form id="target" action="/calendar_write" method="post">
  <table id="calendar"  border="4" align="center" width="1200" height="700"  >
        <thead>
          <tr>
            <th style="border-right:hidden"> <label onclick="prevClaendar()">◁</label> </th>
            <th colspan="5" align ="center" id="calendarYM">yyyy년 m월</th>
            <th style="border-left:hidden"> <label onclick="nextCalendar()">▷</label> </th>
          </tr>
        </thead>
        <tbody>
          <tr class="jb-td">
            <td>일</td>
            <td>월</td>
            <td>화</td>
            <td>수</td>
            <td>목</td>
            <td>금</td>
            <td>토</td>
          </tr>
        </tbody>
      </table>
      <script type="text/javascript" >
        buildCalendar();
      </script>
</form>


<hr>
  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            <li class="list-inline-item">
              <a href="https://instagram.com/software_eroom?igshid=12vwurt8xamjq">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://github.com/SeokLii/EROOM-Website">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          </ul>
          <p class="copyright text-muted">(28644) 충북 청주시 서원구 충대로 1, 충북대학교 전자정보대학 소프트웨어학과 S4-1동(전자정보 3관) 109호<br />
                                          TEL : 010-6583-5683 / 010-3302-9138<br />
                                          Copyright © EROOM. All Rights Reserved.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Custom scripts for this template -->
  <script src="JavaScripts/clean-blog.min.js"></script>

</body>

</html>
